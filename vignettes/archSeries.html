<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="David C. Orton" />

<meta name="date" content="2015-07-04" />

<title>Introduction to archSeries</title>




<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Introduction to archSeries</h1>
<h4 class="author"><em>David C. Orton</em></h4>
<h4 class="date"><em>2015-07-04</em></h4>
</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>This package is designed to tackle a common problem in archaeology: the integration of information from multiple entities with varying chronological resolution and overlapping date ranges. It includes functions for constructing overall chronological distributions from tables of start dates, end dates, and weights; and for plotting those distributions in various ways. Distributions may be calculated either by basic aoristic analysis or by simulation. In the latter case, ‘dummy sets’ can also be calculated automatically based on uniformity or on a custom null model, and rates of change between bins can also be simulated.</p>
<p>Borrowing heavily from ideas set out elsewhere (Crema 2012), the code released here was initially developed for meta- analysis of environmental archaeologica data from urban sites (Orton et al. in prep.). We hope that its uses within archaeology will go beyond this, however – for example via application to zooarchaeological age-at-death studies (see e.g. Bréhard et al. 2014; the <em>surv.convert</em> is already included to this end) and perhaps eventually to human demographics, though the latter would require a suite of additional features.</p>
<p>At present the package only supports aoristic analysis/simulation based on assumption of uniform probability within date limits, and is only designed for frequency data. In future we hope to implement:</p>
<p><em>ability to work with non-uniform distributions, radiocarbon dates (e.g. by interfacing with the Bchron package, <strong>ref</strong>). </em>ability to specify null models other than uniform or custom, and to fit these to the data before simulating dummy. sets (as for example with exponential growth curves in ^14<em>C-based demographic studies, e.g. Timpson et al. 2014). </em>a global hypothesis tester. <em>ability to specify priors for simulations of empirical data, not just for dummy sets (necessary for demographics). </em>tools for dealing with data types other than frequency, e.g. metrics. *additional tools for zooarchaeologica age-at-death (perhaps interfacing with the zooaRch package; <strong>ref</strong>)</p>
<p>The functions fall into two groups:</p>
<ul>
<li><strong>Analysis functions:</strong> take data and produce one or more chronological frequency distributions, potentially including confidence intervals, dummy sets under null models, etc.</li>
<li><strong>Plotting functions:</strong> take the output of the analysis functions and plot them in various ways, using R base graphics.</li>
</ul>
</div>
<div id="analysis-functions" class="section level2">
<h2>Analysis functions</h2>
<p>There are three main analysis functions: <em>aorist</em>, <em>date.simulate</em>, and <em>cpue</em>. The former is deterministic and produces a single simple table of chronological bins and corresponding probability densities; the latter are both based on simulation and produce output in a standard format. This is a list of two data tables, the first (“full”) containing full simulation results and the second (“summary”) containing a summary table of quantiles based on the first. In the case of <em>cpue</em>, certain arguments can result in the addition of a third component (“small.n”): a list of lists defining areas of low confidence. This standard output format could be thought of as a special class of object, though it is not (yet?) formally defined as such. In any case, the main plotting functions are designed to work directly with it.</p>
<div id="aorist-calculate-the-aoristic-sum-for-a-group-of-entities-with-defined-date-limits." class="section level4">
<h4>aorist: calculate the aoristic sum for a group of entities with defined date limits.</h4>
<p>Calculates aoristic sum from a table of entities with defined date ranges, based on assumption of uniform probability between limits. Returns a two-column data table listing the calculated total probability density for each chronological bin.</p>
</div>
<div id="date.simulate-simulate-chronological-distribution-from-a-group-of-entities-with-defined-date-limits." class="section level3">
<h3>date.simulate: simulate chronological distribution from a group of entities with defined date limits.</h3>
<p>Simulates chronological distributions from a table of entities with defined date ranges, based on assumption of uniform probability between limits, then (optionally) simulates a dummy set of the same size drawing from a specified distribution. Returns a list with two named elements: “full” is a long-format data table with complete simulation results; “summary” is a data table with summary results by bin.</p>
</div>
<div id="cpue-catch-per-unit-effort." class="section level3">
<h3>cpue: “Catch per Unit Effort”.</h3>
<p>Estimates the relationship between a numerator (‘catch’) and a denominator (‘effort’) variable over time. The idea here is that the former represents and the latter represents some measure of sampling effort, though there may be other applications. Returns output in the same format as <em>date.simulate</em>: a list with elements “full”, a long-format data table with complete simulation results, and “summary”, a data table giving summary results by bin. Optionally a third element may be added, defining areas where the measure of effort is below a user-defined threshold.</p>
</div>
<div id="surv.convert-convert-simulated-mortality-data-to-survivorship-format." class="section level3">
<h3>surv.convert: convert simulated mortality data to survivorship format.</h3>
<p>This is the only function so far developed with a view specifically to mortality profiles rather than chronological data (i.e. ages in months or years rather than dates in decades or centuries). It take the output from any of the simulate functions and converts the simulated frequencies into simulated survivorship curves, which are output in the standard format.</p>
</div>
<div id="roc.fun-calculate-rates-of-change-in-simulated-variables." class="section level3">
<h3>RoC.fun: calculate Rates of Change in simulated variables.</h3>
<p>Takes the standard “full” output from one of the archSeries simulation functions and adds columns giving rates of change between bins, for all value columns or a specified subset. Called within simulation functions by setting their ‘RoC’ arguments to TRUE, but can also be called directly after the fact. Returns the input data table with the addition of one new RoC column for each original value column.</p>
</div>
<div id="sim.summ-summarise-basic-output-from-simulation-functions." class="section level3">
<h3>sim.summ: summarise basic output from simulation functions.</h3>
<p>A utility function designed to be used within the simulation functions in this package, but which can also be used alone if useful. Takes a data table resembling the “full” output from <em>date.simulate</em> or <em>cpue</em> and returns a summary data table giving a series of quantiles for each chronological bin.</p>
</div>
</div>
<div id="plotting-functions" class="section level2">
<h2>Plotting functions</h2>
<p>There are four main plotting functions in the package: <em>poly.chron</em>, <em>lines.chron</em>, <em>box.chron</em>, and <em>aorist.plot</em>. The first three are designed to work with the output of the various simulation functions, and the fourth with output from <em>aorist</em>. In addition, two auxiliaries functions called within the above – <em>axis.setup</em> and <em>grey.zones</em> – can also be called on their own if required.</p>
<div id="poly.chron-plot-medians-and-confidence-zones-for-simulation-results." class="section level3">
<h3>poly.chron: plot medians and confidence zones for simulation results.</h3>
<p>Plots defined confidence intervals (as polygons) and medians (as lines) for output from <em>date.simulate</em> or an associated function.</p>
</div>
<div id="lines.chron-plot-all-simulation-runs-as-lines." class="section level3">
<h3>lines.chron: plot all simulation runs as lines.</h3>
<p>Plots every single simulation run for each specified variable as a separate semi-transparent line.</p>
</div>
<div id="box.chron-boxplots-for-simulation-output." class="section level3">
<h3>box.chron: boxplots for simulation output.</h3>
<p>Plots a series of boxplots (one per bin) summarising the output from <em>date.simulate</em> or an associated function.</p>
</div>
<div id="aorist.plot-plot-aorist-output-as-a-barplot." class="section level3">
<h3>aorist.plot: plot aorist output as a barplot.</h3>
<p>Just a wrapper for <em>barplot</em> with some tweaks added, e.g. to make bars line up with data plotted by other archSeries functions. NEEDS WORK - DOESN’T YET ALLOW FOR SECONDARY Y-AXIS.</p>
</div>
<div id="axis.setup-set-up-axes-for-plotting-functions" class="section level3">
<h3>axis.setup: set up axes for plotting functions</h3>
<p>A utility function designed to be used within the various plot functions in this package, but which can also be used alone to set up axes based on simulation data prior to plotting anything.</p>
</div>
<div id="grey.zones-plot-polygons-indicating-areas-of-low-sample-size." class="section level3">
<h3>grey.zones: plot polygons indicating areas of low sample size.</h3>
<p>A utility function sometimes called by main archSeries plotting functions when dealing with output from <em>cpue</em>. Can in theory also be used alone after calls to <em>cpue</em> and <em>axis.setup</em>.</p>
</div>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<ul>
<li>Bréhard, S., V. Radu, A. Martin, P. Hanot, D. Popovici &amp; A. Bălăşescu (2014) Food supply strategies in the Romanian Eneolithic: sheep/goat husbandry and fishing activities from Hârşova Tell and Borduşani-Popină (5th Millennium bc). <em>European Journal of Archaeology</em>, <strong>17</strong>, 407–433.</li>
<li>Crema, E. (2012) Modelling temporal uncertainty in archaeological analysis. <em>Journal of Archaeological Method and Theory</em>, <strong>19</strong>, 440-461.</li>
<li>Orton, D.C., J. Morris &amp; S. Ostrich (in prep) Catch per unit (research) effort: the Fish Event Horizon revisited via calibrated time-series of fish bone data from London. For submission to <em>Open Quaternary</em></li>
<li>Timpson, A., S. Colledge, E. Crema, K. Edinborough, T. Kerig, K. Manning, M.G. Thomas &amp; S. Shennan (2014) Reconstructing regional population fluctuations in the European Neolithic using radiocarbon dates: a new case-study using an improved method. <em>Journal of Archaeological Science</em>, <strong>52</strong>, 549–557.</li>
</ul>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
